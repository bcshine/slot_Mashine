<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- ë¬¸ì„œ íƒ€ì… ë° ì–¸ì–´ ì„¤ì • -->
    <meta charset="UTF-8">
    <!-- ë°˜ì‘í˜• ì›¹ì„ ìœ„í•œ ë·°í¬íŠ¸ ì„¤ì • -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- í˜ì´ì§€ ì œëª© ì„¤ì • -->
    <title>ğŸ’ í–‰ìš´ì˜ ì¿ í° ê²Œì„ ğŸ’</title>
    <!-- êµ¬ê¸€ í°íŠ¸ - Noto Sans KR ë¡œë“œ (í•œê¸€ ì§€ì›) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- React ë¼ì´ë¸ŒëŸ¬ë¦¬ CDN ë¡œë“œ -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <!-- ReactDOM ë¼ì´ë¸ŒëŸ¬ë¦¬ CDN ë¡œë“œ -->
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ CDN ë¡œë“œ (JSX ë³€í™˜ìš©) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* ì „ì²´ ìš”ì†Œ ì´ˆê¸°í™” - ë¸Œë¼ìš°ì € ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì œê±° */
        * {
            margin: 0;           /* ëª¨ë“  ìš”ì†Œì˜ ì™¸ë¶€ ì—¬ë°± ì œê±° */
            padding: 0;          /* ëª¨ë“  ìš”ì†Œì˜ ë‚´ë¶€ ì—¬ë°± ì œê±° */
            box-sizing: border-box; /* íŒ¨ë”©ê³¼ í…Œë‘ë¦¬ë¥¼ ìš”ì†Œ í¬ê¸°ì— í¬í•¨ */
        }

        /* í˜ì´ì§€ ì „ì²´ ë°°ê²½ ë° ë ˆì´ì•„ì›ƒ ì„¤ì • */
        body {
            font-family: 'Noto Sans KR', sans-serif; /* ê¸°ë³¸ í°íŠ¸ ì„¤ì • */
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 50%, #FFE0B2 100%); /* í¬ë¦¼ìƒ‰ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ */
            min-height: 100vh;    /* ìµœì†Œ ë†’ì´ë¥¼ í™”ë©´ ì „ì²´ ë†’ì´ë¡œ ì„¤ì • */
            display: flex;        /* í”Œë ‰ìŠ¤ë°•ìŠ¤ ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
            justify-content: center; /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            align-items: center;  /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            padding: 20px;        /* ì „ì²´ ì—¬ë°± 20px */
        }

         /* ë©”ì¸ ê²Œì„ ì»¨í…Œì´ë„ˆ - ìŠ¬ë¡¯ë¨¸ì‹  ì „ì²´ í‹€ */
         .game-container {
             max-width: 640px;     /* ìµœëŒ€ ë„ˆë¹„ 640pxë¡œ ì œí•œ */
             width: 100%;          /* ë„ˆë¹„ 100% (ë°˜ì‘í˜•) */
             min-height: 850px;    /* ìµœì†Œ ë†’ì´ 850px (ëª¨ë“  ìš”ì†Œê°€ ë³´ì´ë„ë¡) */
             background: linear-gradient(145deg, #FF8C00, #FFA500, #FFB84D); /* ì˜¤ë Œì§€ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ */
             border-radius: 25px;  /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ 25px */
             box-shadow:           /* ë³µí•© ê·¸ë¦¼ì íš¨ê³¼ */
                 0 15px 40px rgba(0,0,0,0.3),        /* ì™¸ë¶€ ê·¸ë¦¼ì */
                 inset 0 0 0 3px #FFD700,            /* ë‚´ë¶€ ê³¨ë“œ í…Œë‘ë¦¬ */
                 inset 0 0 0 6px #FF6B35,            /* ë‚´ë¶€ ì˜¤ë Œì§€ í…Œë‘ë¦¬ */
                 inset 0 3px 15px rgba(255,255,255,0.4); /* ë‚´ë¶€ í•˜ì´ë¼ì´íŠ¸ */
             overflow: hidden;     /* ë„˜ì¹˜ëŠ” ë‚´ìš© ìˆ¨ê¹€ */
             border: 6px solid #FF6B35; /* ì™¸ë¶€ í…Œë‘ë¦¬ 6px */
             position: relative;   /* ìƒëŒ€ ìœ„ì¹˜ (ìì‹ ìš”ì†Œ ì ˆëŒ€ ìœ„ì¹˜ ê¸°ì¤€) */
             display: flex;        /* í”Œë ‰ìŠ¤ë°•ìŠ¤ ë ˆì´ì•„ì›ƒ */
             flex-direction: column; /* ì„¸ë¡œ ë°©í–¥ ë°°ì¹˜ */
         }

        .header {
            background: linear-gradient(45deg, #FF8C00, #FFA500, #FFB84D);
            padding: 20px;
            text-align: center;
            color: #FFFFFF;
            position: relative;
            border: 6px solid #FF6B35;
            border-radius: 25px;
            box-shadow: 
                0 8px 25px rgba(0,0,0,0.3),
                inset 0 0 0 3px #FFD700,
                inset 0 0 0 6px #FF6B35,
                inset 0 3px 15px rgba(255,255,255,0.4);
        }

        .title {
            font-size: 2.3em;
            font-weight: 900;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            margin-bottom: 8px;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        .subtitle {
            font-size: 1.2em;
            font-weight: 600;
            opacity: 0.9;
        }

                 .slot-machine-container {
             position: relative;
             display: flex;
             align-items: center;
             justify-content: center;
             margin: 10px;
             padding: 10px;
             flex: 1;
         }

         /* ìŠ¤í¬íŠ¸ë¼ì´íŠ¸ íš¨ê³¼ */
         .slot-machine-container::before {
             content: '';
             position: absolute;
             top: -20px;
             left: -20px;
             right: -20px;
             bottom: -20px;
             background: radial-gradient(circle at center, 
                 rgba(255,215,0,0.4) 0%, 
                 rgba(255,215,0,0.2) 30%, 
                 rgba(255,107,53,0.1) 50%,
                 transparent 70%);
             border-radius: 50px;
             z-index: -1;
             opacity: 0;
             transition: opacity 0.5s ease;
         }

         .slot-machine-container.spotlight::before {
             opacity: 1;
             animation: spotlightPulse 2s ease-in-out infinite alternate;
         }

         @keyframes spotlightPulse {
             0% {
                 transform: scale(1);
                 opacity: 0.6;
             }
             100% {
                 transform: scale(1.1);
                 opacity: 1;
             }
         }

         .slot-machine {
             background: linear-gradient(145deg, #FF8C00, #FFA500, #FFB84D);
             border-radius: 25px;
             padding: 25px;
             box-shadow: 
                 0 10px 30px rgba(0,0,0,0.3),
                 inset 0 0 0 3px #FFD700,
                 inset 0 0 0 6px #FF6B35,
                 inset 0 3px 15px rgba(255,255,255,0.4);
             position: relative;
             border: 6px solid #5c4e49;
         }

         /* ìš°ì¸¡ ë ˆë²„ ì¶”ê°€ */
         .slot-machine::after {
             content: '';
             position: absolute;
             top: 43%;
             right: -12px;
             transform: translateY(-50%);
             width: 15px;
             height: 100px;
             background: linear-gradient(145deg, #FFB84D, #FF8C00);
             border-radius: 12px;
             border: 3px solid #FF6B35;
             box-shadow: 0 5px 15px rgba(0,0,0,0.3);
         }

         .slot-machine::before {
             content: '';
             position: absolute;
             top: 25%;
             right: -12px;
             transform: translateY(-50%);
             width: 15px;
             height: 15px;
             background: radial-gradient(circle, #DC143C, #B22222);
             border-radius: 50%;
             border: 3px solid #e16112;
             box-shadow: 0 3px 8px rgba(0,0,0,0.4);
         }

        .jackpot-header {
            text-align: center;
            margin-bottom: 20px;
        }

                 .jackpot-text {
             font-size: 1.6em;
             font-weight: 800;
             color: #FFFFFF;
             text-shadow: 
                 2px 2px 0px #8B4513,
                 -1px -1px 0px #FFD700,
                 3px 3px 8px rgba(0,0,0,0.5);
             animation: jackpotGlow 2s ease-in-out infinite alternate;
         }

        .reels-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            border-radius: 20px;
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,215,0,0.3);
            box-shadow: 
                0 8px 32px rgba(0,0,0,0.2),
                inset 0 2px 10px rgba(255,255,255,0.1);
            transition: all 0.5s ease;
            overflow: hidden; /* ë°•ìŠ¤ ë°–ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ ì œí•œ */
        }

        /* ë‹¹ì²¨ ì‹œ ë¦´ ì»¨í…Œì´ë„ˆ íŠ¹ë³„ íš¨ê³¼ */
        .reels-container.winning {
            background: linear-gradient(145deg, rgba(255,215,0,0.2), rgba(255,107,53,0.1));
            border: 3px solid #FFD700;
            box-shadow: 
                0 0 0 5px rgba(255,215,0,0.5),
                0 0 50px rgba(255,215,0,0.8),
                0 0 100px rgba(255,107,53,0.4),
                inset 0 2px 15px rgba(255,255,255,0.3);
            animation: containerGlow 2s ease-in-out infinite alternate;
        }

        @keyframes containerGlow {
            0% {
                transform: scale(1);
                filter: brightness(1);
            }
            100% {
                transform: scale(1.01);
                filter: brightness(1.1);
            }
        }

                 .reel {
             width: 85px;
             height: 110px;
             background: linear-gradient(145deg, #FFFFFF, #F8F8F8, #F0F0F0);
             border: 5px solid transparent;
             border-radius: 15px;
             display: flex;
             align-items: center;
             justify-content: center;
             font-size: 3em;
             font-weight: 900;
             font-family: 'Noto Sans KR', sans-serif;
             position: relative;
             overflow: hidden; /* ë¦´ ë‚´ë¶€ì—ì„œë§Œ ìŠ¤í•€í•˜ë„ë¡ ì œí•œ */
             background-clip: padding-box;
             animation: reelGlow 2s ease-in-out infinite alternate;
         }

         /* ê¸€ë¡œìš° íš¨ê³¼ë¥¼ ìœ„í•œ ì™¸ë¶€ ë˜í¼ */
         .reel::before {
             content: '';
             position: absolute;
             top: -8px;
             left: -8px;
             right: -8px;
             bottom: -8px;
             background: transparent;
             border-radius: 23px;
             box-shadow: 
                 0 8px 25px rgba(0,0,0,0.5),
                 0 0 0 2px #FFD700,
                 0 0 0 5px #FF6B35,
                 0 0 0 8px #FFD700,
                 0 0 20px rgba(255,215,0,0.6);
             z-index: -1;
             pointer-events: none;
         }

         .reel::after {
             content: '';
             position: absolute;
             top: 0;
             left: 0;
             right: 0;
             bottom: 0;
             background: transparent;
             border-radius: 15px;
             box-shadow: 
                 inset 0 3px 12px rgba(255,255,255,0.9),
                 inset 0 0 0 2px rgba(255,215,0,0.3);
             pointer-events: none;
         }

        .reel-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.1s ease;
        }

        .reel.spinning .reel-content {
            animation: reelSpin 0.1s linear infinite;
        }

        .reel.slowing .reel-content {
            animation: reelSlowDown 2s ease-out forwards;
        }

        /* ë‹¹ì²¨ ì‹œ ë¦´ íŠ¹ë³„ íš¨ê³¼ */
        .reel.winning {
            animation: reelWinning 1s ease-in-out infinite alternate !important;
            box-shadow: 
                0 0 0 4px #FFD700,
                0 0 0 8px #FF6B35,
                0 0 0 12px #FFD700,
                0 0 50px rgba(255,215,0,1),
                0 0 80px rgba(255,107,53,1),
                0 0 100px rgba(255,215,0,0.6),
                inset 0 0 30px rgba(255,255,255,1) !important;
        }

        @keyframes reelWinning {
            0% {
                transform: scale(1) rotate(0deg);
                filter: brightness(1.2) saturate(1.5);
            }
            100% {
                transform: scale(1.03) rotate(1deg);
                filter: brightness(1.5) saturate(2);
            }
        }

        .spin-button {
            display: block;
            margin: 25px auto;
            padding: 12px 50px;
            font-size: 1.8em;
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 900;
            background: linear-gradient(145deg, #FF8C00, #FFA500, #FFB84D);
            color: #FFFFFF;
            border: 4px solid #FF6B35;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 
                0 8px 25px rgba(0,0,0,0.3),
                inset 0 2px 10px rgba(255,255,255,0.4),
                inset 0 -2px 8px rgba(255,107,53,0.3);
            transition: all 0.3s ease;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .spin-button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 
                0 12px 30px rgba(0,0,0,0.4),
                inset 0 3px 15px rgba(255,255,255,0.5),
                inset 0 -3px 10px rgba(255,107,53,0.4);
        }

        .spin-button:active:not(:disabled) {
            transform: translateY(-1px);
        }

        .spin-button:disabled {
            background: linear-gradient(145deg, #d94b05, #6e527a);
            color: #c7bdc5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

                 .result {
             text-align: center;
             padding: 5px 20px;
             min-height: 280px;
             max-height: 280px;
             display: flex;
             flex-direction: column;
             justify-content: flex-start;
             overflow: visible;
         }

         .game-info {
             text-align: left;
             padding: 15px 20px;
             margin: 10px 20px;
         }

         .game-info-title {
             font-size: 1.4em;
             font-weight: 700;
             color: hsl(25, 87%, 18%);
             margin-bottom: 8px;
             font-family: 'Noto Sans KR', sans-serif;
         }

                  .game-info-list {
             font-size: 1.1em;
             color: hsl(25, 87%, 18%);
             line-height: 1;
             font-weight: 900;
             font-family: 'Noto Sans KR', sans-serif;
         }

         .game-info-list div {
             margin: 8px 0;
             padding: 2px 0;
         }

        /* ê½ ì• ë‹ˆë©”ì´ì…˜ */
        .miss-animation {
            position: fixed;
            top: 50%;
            left: -100px;
            transform: translateY(-50%);
            z-index: 1000;
            animation: flyAcross 4s ease-in-out;
            pointer-events: none;
        }

        .miss-animation img {
            width: 100px;
            height: 100px;
        }

        @keyframes flyAcross {
            0% {
                left: -100px;
                opacity: 1;
            }
            100% {
                left: calc(100vw + 100px);
                opacity: 0.8;
            }
        }

        /* ë‹¹ì²¨ ë©”ì‹œì§€ ê°•ì¡° */
        .win-message {
            font-size: 2.5em !important;
            color: #FF6B35 !important;
            font-weight: 900 !important;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5) !important;
            animation: winPulse 0.8s ease-in-out infinite alternate !important;
        }

                 @keyframes winPulse {
             0% {
                 transform: scale(1);
                 text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
             }
             100% {
                 transform: scale(1.05);
                 text-shadow: 3px 3px 10px rgba(255,107,53,0.8);
             }
         }

         /* ë‹¹ì²¨ ë©”ì‹œì§€ í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ */
         @keyframes winMessagePulse {
             0% {
                 transform: scale(1);
                 box-shadow: 0 5px 15px rgba(0,0,0,0.3);
             }
             100% {
                 transform: scale(1.02);
                 box-shadow: 0 8px 25px rgba(255,215,0,0.6);
             }
         }

         /* ì¶•í¬ íš¨ê³¼ */
         .confetti {
             position: fixed;
             width: 10px;
             height: 10px;
             background: #FFD700;
             animation: confetti-fall 5s linear infinite;
             z-index: 1000;
         }

         .confetti:nth-child(odd) {
             background: #FF6B35;
             animation-delay: -0.5s;
         }

         .confetti:nth-child(even) {
             background: #4ECDC4;
             animation-delay: -1s;
         }

         .confetti:nth-child(3n) {
             background: #45B7D1;
             animation-delay: -1.5s;
         }

         .confetti:nth-child(4n) {
             background: #96CEB4;
             animation-delay: -2s;
         }

         .confetti:nth-child(5n) {
             background: #FFEAA7;
             animation-delay: -2.5s;
         }

         @keyframes confetti-fall {
             0% {
                 transform: translateY(-100vh) rotate(0deg);
                 opacity: 1;
             }
             100% {
                 transform: translateY(100vh) rotate(720deg);
                 opacity: 0;
             }
         }

         /* ê½ƒë†€ì´ íš¨ê³¼ */
         .flower {
             position: fixed;
             font-size: 20px;
             animation: flower-fall 5s linear infinite;
             z-index: 1000;
             pointer-events: none;
         }

         .flower:nth-child(odd) {
             animation-delay: -0.3s;
         }

         .flower:nth-child(even) {
             animation-delay: -0.8s;
         }

         .flower:nth-child(3n) {
             animation-delay: -1.2s;
         }

         .flower:nth-child(4n) {
             animation-delay: -1.8s;
         }

         @keyframes flower-fall {
             0% {
                 transform: translateY(-100vh) rotate(0deg);
                 opacity: 1;
             }
             100% {
                 transform: translateY(100vh) rotate(360deg);
                 opacity: 0.3;
             }
         }

        .result-message {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: #2C3E50;
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }

        .coupon {
            background: #FFFFFF;
            color: #333333;
            padding: 15px 20px;
            border-radius: 8px;
            margin: 0 auto 10px;
            text-align: center;
            font-size: 0.9em;
            font-weight: 500;
            animation: fadeIn 0.8s ease-in, couponFloat 3s ease-in-out infinite;
            border: 2px dashed #FF6B6B;
            box-shadow: 
                0 5px 15px rgba(0,0,0,0.15),
                inset 0 1px 0 rgba(255,255,255,0.9);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 140px;
            max-width: 300px;
            width: 90%;
        }

        .coupon-header {
            font-size: 0.9em;
            color: #333333;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .coupon-main-title {
            font-size: 1.1em;
            color: #FF6B6B;
            margin-bottom: 8px;
            font-weight: 900;
            line-height: 1.2;
        }

        .coupon-code-section {
            background: #FF6B6B;
            color: #FFFFFF;
            padding: 8px 15px;
            margin: 8px 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
            font-weight: 700;
            letter-spacing: 1px;
            width: 100%;
        }

        .coupon-validity {
            font-size: 0.7em;
            color: #666666;
            margin: 5px 0;
            line-height: 1.3;
        }

        .coupon-footer {
            font-size: 0.6em;
            color: #999999;
            margin-top: 8px;
            line-height: 1.2;
            border-top: 1px solid #EEEEEE;
            padding-top: 5px;
        }

        @keyframes couponFloat {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-3px);
            }
        }

        .coupon::before {
            content: 'ğŸ‰';
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1em;
            animation: sparkle 1s ease-in-out infinite alternate;
        }

        .coupon::after {
            content: 'ğŸ‰';
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1em;
            animation: sparkle 1s ease-in-out infinite alternate-reverse;
        }

        .coupon-expiry {
            font-size: 0.8em;
            margin-top: 10px;
            opacity: 0.9;
        }

        .miss-message {
            color: #7F8C8D;
            font-size: 1.2em;
            margin: 10px 0;
            font-weight: 500;
        }

        .buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
            margin-bottom: 15px;
            padding-bottom: 5px;
        }

        .button {
            padding: 12px 25px;
            border: 3px solid transparent;
            border-radius: 25px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-btn {
            background: linear-gradient(45deg, #FF8C00, #FFA500);
            color: white;
            border: 3px solid #FF6B35;
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
        }

        .save-btn:hover {
            transform: translateY(-2px);
            border-color: #FF4500;
            box-shadow: 0 7px 20px rgba(255, 140, 0, 0.6);
        }

        .home-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #8B4513;
            border: 3px solid #DAA520;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .home-btn:hover {
            transform: translateY(-2px);
            border-color: #B8860B;
            box-shadow: 0 7px 20px rgba(255, 215, 0, 0.6);
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        /* ë¦´ ê¸€ë¡œìš° ì• ë‹ˆë©”ì´ì…˜ - ì£¼ì¸ê³µ íš¨ê³¼ */
        @keyframes reelGlow {
            0% {
                box-shadow: 
                    0 8px 25px rgba(0,0,0,0.5),
                    0 0 0 2px #FFD700,
                    0 0 0 5px #FF6B35,
                    0 0 0 8px #FFD700,
                    0 0 20px rgba(255,215,0,0.6),
                    inset 0 3px 12px rgba(255,255,255,0.9),
                    inset 0 0 0 2px rgba(255,215,0,0.3);
                transform: scale(1);
            }
            100% {
                box-shadow: 
                    0 12px 35px rgba(0,0,0,0.6),
                    0 0 0 3px #FFD700,
                    0 0 0 6px #FF6B35,
                    0 0 0 10px #FFD700,
                    0 0 30px rgba(255,215,0,0.9),
                    0 0 50px rgba(255,107,53,0.4),
                    inset 0 3px 15px rgba(255,255,255,1),
                    inset 0 0 0 3px rgba(255,215,0,0.5);
                transform: scale(1.02);
            }
        }

        /* ìŠ¤í”¼ë‹ ì‹œ íŠ¹ë³„í•œ íš¨ê³¼ */
        .reel.spinning {
            animation: reelSpinGlow 0.1s linear infinite !important;
            box-shadow: 
                0 0 0 3px #FFD700,
                0 0 0 6px #FF6B35,
                0 0 0 10px #FFD700,
                0 0 40px rgba(255,215,0,1),
                0 0 60px rgba(255,107,53,0.8),
                inset 0 0 20px rgba(255,255,255,0.8) !important;
        }

        @keyframes reelSpinGlow {
            0% {
                filter: brightness(1) hue-rotate(0deg);
                transform: scale(1);
            }
            25% {
                filter: brightness(1.2) hue-rotate(90deg);
                transform: scale(1.03);
            }
            50% {
                filter: brightness(1.4) hue-rotate(180deg);
                transform: scale(1.05);
            }
            75% {
                filter: brightness(1.2) hue-rotate(270deg);
                transform: scale(1.03);
            }
            100% {
                filter: brightness(1) hue-rotate(360deg);
                transform: scale(1);
            }
        }

        @keyframes reelSpin {
            0% { transform: translate(-50%, -50%) translateY(0); }
            25% { transform: translate(-50%, -50%) translateY(-15px); }
            50% { transform: translate(-50%, -50%) translateY(0); }
            75% { transform: translate(-50%, -50%) translateY(15px); }
            100% { transform: translate(-50%, -50%) translateY(0); }
        }

        @keyframes reelSlowDown {
            0% { transform: translate(-50%, -50%) translateY(0) scale(1); }
            20% { transform: translate(-50%, -50%) translateY(-8px) scale(1.05); }
            40% { transform: translate(-50%, -50%) translateY(0) scale(1); }
            60% { transform: translate(-50%, -50%) translateY(8px) scale(1.05); }
            80% { transform: translate(-50%, -50%) translateY(0) scale(1); }
            100% { transform: translate(-50%, -50%) translateY(0) scale(1); }
        }

        @keyframes titleGlow {
            0% { 
                text-shadow: 3px 3px 6px rgba(0,0,0,0.4), 0 0 20px #FF8C00;
            }
            100% { 
                text-shadow: 3px 3px 8px rgba(0,0,0,0.5), 0 0 30px #FF8C00, 0 0 40px #FFA500;
            }
        }

                 @keyframes jackpotGlow {
             0% { 
                 text-shadow: 
                     2px 2px 0px #8B4513,
                     -1px -1px 0px #FFD700,
                     3px 3px 8px rgba(0,0,0,0.5),
                     0 0 15px #FFD700;
             }
             100% { 
                 text-shadow: 
                     2px 2px 0px #8B4513,
                     -1px -1px 0px #FFD700,
                     3px 3px 12px rgba(0,0,0,0.6),
                     0 0 25px #FFD700,
                     0 0 35px #FFA500;
             }
         }

        @keyframes sparkle {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.1) rotate(5deg); }
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 10px 25px rgba(0,0,0,0.4), inset 0 2px 10px rgba(255,255,255,0.3); }
            50% { box-shadow: 0 15px 35px rgba(255,215,0,0.6), inset 0 2px 10px rgba(255,255,255,0.4); }
            100% { box-shadow: 0 10px 25px rgba(0,0,0,0.4), inset 0 2px 10px rgba(255,255,255,0.3); }
        }

                 /* ë°˜ì‘í˜• ë””ìì¸ - ëª¨ë°”ì¼ ìµœì í™” */
         @media (max-width: 480px) {
             body {
                 padding: 5px; /* ì „ì²´ ì—¬ë°± ì¤„ì„ */
             }
             
             .game-container {
                 min-height: calc(100vh - 10px); /* í™”ë©´ ë†’ì´ì— ë§ì¶¤ */
                 max-height: calc(100vh - 10px); /* ìµœëŒ€ ë†’ì´ ì œí•œ */
                 margin: 0; /* ë§ˆì§„ ì œê±° */
                 border-radius: 15px; /* ëª¨ì„œë¦¬ ì¤„ì„ */
                 overflow-y: auto; /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ í—ˆìš© */
             }
             
             .header {
                 padding: 10px; /* í—¤ë” íŒ¨ë”© ì¤„ì„ */
                 border-radius: 15px;
             }
             
             .title {
                 font-size: 1.6em; /* ì œëª© í¬ê¸° ì¤„ì„ */
                 margin-bottom: 5px;
             }
             
             .subtitle {
                 font-size: 1em; /* ë¶€ì œëª© í¬ê¸° ì¤„ì„ */
             }
             
             .slot-machine-container {
                 margin: 5px; /* ë§ˆì§„ ì¤„ì„ */
                 padding: 5px; /* íŒ¨ë”© ì¤„ì„ */
             }
             
             .slot-machine {
                 padding: 15px; /* íŒ¨ë”© ì¤„ì„ */
                 border-radius: 15px;
             }
             
             .jackpot-text {
                 font-size: 1.2em; /* ì­íŒŸ í…ìŠ¤íŠ¸ í¬ê¸° ì¤„ì„ */
             }
             
             .reels-container {
                 gap: 8px; /* ë¦´ ê°„ê²© ì¤„ì„ */
                 margin: 10px 0; /* ë§ˆì§„ ì¤„ì„ */
                 padding: 10px; /* íŒ¨ë”© ì¤„ì„ */
                 border-radius: 15px;
             }
             
             .reel {
                 width: 60px; /* ë¦´ í¬ê¸° ì¤„ì„ */
                 height: 80px;
                 font-size: 2em; /* í°íŠ¸ í¬ê¸° ì¤„ì„ */
                 border-radius: 10px;
             }
             
             .reel::before {
                 top: -5px; /* ê¸€ë¡œìš° íš¨ê³¼ ì¤„ì„ */
                 left: -5px;
                 right: -5px;
                 bottom: -5px;
                 border-radius: 15px;
             }
             
             .spin-button {
                 padding: 8px 25px; /* ë²„íŠ¼ í¬ê¸° ì¤„ì„ */
                 font-size: 1.3em;
                 margin: 15px auto;
                 border-radius: 15px;
             }
             
             .result {
                 min-height: 140px; /* ê²°ê³¼ ì˜ì—­ ë†’ì´ ë” ì¤„ì„ */
                 max-height: 140px;
                 padding: 3px 10px; /* íŒ¨ë”© ë” ì¤„ì„ */
                 overflow-y: auto; /* ìŠ¤í¬ë¡¤ í—ˆìš© */
             }
             
             .game-info {
                 padding: 10px 15px; /* ê²Œì„ ì•ˆë‚´ íŒ¨ë”© ì¤„ì„ */
                 margin: 5px 15px;
             }
             
             .game-info-title {
                 font-size: 1.2em; /* ì•ˆë‚´ ì œëª© í¬ê¸° ì¤„ì„ */
                 margin-bottom: 5px;
             }
             
             .game-info-list {
                 font-size: 0.9em; /* ì•ˆë‚´ í…ìŠ¤íŠ¸ í¬ê¸° ì¤„ì„ */
                 line-height: 1.3;
             }
             
             .game-info-list div {
                 margin: 5px 0; /* ë§ˆì§„ ì¤„ì„ */
                 padding: 1px 0;
             }
             
             /* ë‹¹ì²¨ ë©”ì‹œì§€ í¬ê¸° ì¡°ì • */
             .win-message {
                 font-size: 1.5em !important; /* ë‹¹ì²¨ ë©”ì‹œì§€ í¬ê¸° ë” ì¤„ì„ */
                 margin: 5px 0 !important; /* ë§ˆì§„ ì¤„ì„ */
             }
             
             /* ì¿ í° í¬ê¸° ì¡°ì • */
             .coupon {
                 max-width: 250px !important; /* ì¿ í° í¬ê¸° ë” ì¤„ì„ */
                 min-height: 100px !important; /* ë†’ì´ ë” ì¤„ì„ */
                 padding: 5px !important; /* íŒ¨ë”© ë” ì¤„ì„ */
                 margin: 5px auto !important; /* ë§ˆì§„ ì¤„ì„ */
             }
             
             .coupon-header {
                 font-size: 0.8em !important; /* í°íŠ¸ ë” ì¤„ì„ */
                 margin-bottom: 2px !important;
             }
             
             .coupon-main-title {
                 font-size: 1em !important; /* í°íŠ¸ ë” ì¤„ì„ */
                 margin: 2px 0 !important;
             }
             
             .coupon-code-section {
                 font-size: 0.7em !important; /* í°íŠ¸ ë” ì¤„ì„ */
                 margin: 2px 0 !important;
                 padding: 2px !important;
             }
             
             .coupon-validity {
                 font-size: 0.6em !important; /* í°íŠ¸ ë” ì¤„ì„ */
                 margin: 2px 0 !important;
                 line-height: 1.2 !important;
             }
             
             .coupon-footer {
                 font-size: 0.6em !important; /* í°íŠ¸ ë” ì¤„ì„ */
                 margin-top: 2px !important;
             }
             
             /* ë²„íŠ¼ í¬ê¸° ì¡°ì • */
             .buttons {
                 gap: 5px !important; /* ê°„ê²© ë” ì¤„ì„ */
                 margin-top: 5px !important; /* ë§ˆì§„ ë” ì¤„ì„ */
                 margin-bottom: 5px !important; /* í•˜ë‹¨ ë§ˆì§„ ì¶”ê°€ */
             }
             
             .button {
                 padding: 5px 12px !important; /* íŒ¨ë”© ë” ì¤„ì„ */
                 font-size: 0.8em !important; /* í°íŠ¸ ë” ì¤„ì„ */
                 border-radius: 8px !important; /* ëª¨ì„œë¦¬ ë” ì¤„ì„ */
                 min-width: 60px !important; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
             }
             
                           /* ë ˆë²„ ìœ„ì¹˜ ì¡°ì • */
              .slot-machine::after {
                  right: -8px;
                  width: 10px;
                  height: 60px;
              }
              
              .slot-machine::before {
                  right: -8px;
                  width: 10px;
                  height: 10px;
              }
          }

          /* ë” ì‘ì€ í™”ë©´ (ì•„ì´í° SE ë“±) */
          @media (max-width: 375px) and (max-height: 667px) {
              .game-container {
                  min-height: calc(100vh - 5px);
                  max-height: calc(100vh - 5px);
              }
              
              .title {
                  font-size: 1.4em;
              }
              
              .subtitle {
                  font-size: 0.9em;
              }
              
              .jackpot-text {
                  font-size: 1em;
              }
              
              .reel {
                  width: 55px;
                  height: 70px;
                  font-size: 1.8em;
              }
              
              .reels-container {
                  gap: 6px;
                  padding: 8px;
              }
              
              .result {
                  min-height: 120px; /* ë” ì‘ì€ í™”ë©´ì—ì„œ ë†’ì´ ë” ì¤„ì„ */
                  max-height: 120px;
                  padding: 2px 8px; /* íŒ¨ë”© ë” ì¤„ì„ */
              }
              
              .game-info-list {
                  font-size: 0.8em;
              }
              
              /* ì‘ì€ í™”ë©´ì—ì„œ ì¿ í° ë” ì¶•ì†Œ */
              .coupon {
                  max-width: 220px !important;
                  min-height: 90px !important;
                  padding: 4px !important;
              }
              
              .coupon-header {
                  font-size: 0.7em !important;
              }
              
              .coupon-main-title {
                  font-size: 0.9em !important;
              }
              
              .coupon-code-section {
                  font-size: 0.6em !important;
              }
              
              .coupon-validity {
                  font-size: 0.55em !important;
              }
              
              .coupon-footer {
                  font-size: 0.55em !important;
              }
              
              .button {
                  padding: 4px 10px !important;
                  font-size: 0.7em !important;
              }
          }

          /* ê°€ë¡œ ëª¨ë“œ ëŒ€ì‘ */
          @media (max-width: 768px) and (orientation: landscape) {
              .game-container {
                  min-height: calc(100vh - 5px);
                  max-height: calc(100vh - 5px);
                  overflow-y: auto;
              }
              
              .header {
                  padding: 8px;
              }
              
              .title {
                  font-size: 1.3em;
                  margin-bottom: 3px;
              }
              
              .subtitle {
                  font-size: 0.8em;
              }
              
              .slot-machine {
                  padding: 10px;
              }
              
              .jackpot-text {
                  font-size: 1em;
              }
              
              .reels-container {
                  margin: 8px 0;
                  padding: 8px;
              }
              
              .result {
                  min-height: 120px;
                  max-height: 120px;
              }
              
              .game-info {
                  padding: 8px 12px;
                  margin: 3px 12px;
              }
          }
    </style>
</head>
<body>
    <!-- React ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë£¨íŠ¸ ìš”ì†Œ -->
    <div id="root"></div>

    <script type="text/babel">
        // React í›… ê°€ì ¸ì˜¤ê¸°
        const { useState, useEffect } = React;

        // ë©”ì¸ ìŠ¬ë¡¯ë¨¸ì‹  ì»´í¬ë„ŒíŠ¸
        function SlotMachine() {
            // ìƒíƒœ ê´€ë¦¬ - ìŠ¬ë¡¯ë¨¸ì‹ ì˜ ê° ë¦´ ê°’ (ì´ˆê¸°ê°’: 50, 30, 20)
            const [reels, setReels] = useState(['50', '30', '20']);
            // ìƒíƒœ ê´€ë¦¬ - í˜„ì¬ íšŒì „ ì¤‘ì¸ì§€ ì—¬ë¶€
            const [isSpinning, setIsSpinning] = useState(false);
            // ìƒíƒœ ê´€ë¦¬ - ê²Œì„ ê²°ê³¼ (ë‹¹ì²¨/ê½ ì •ë³´)
            const [result, setResult] = useState(null);
            // ìƒíƒœ ê´€ë¦¬ - ê²°ê³¼ í™”ë©´ í‘œì‹œ ì—¬ë¶€
            const [showResult, setShowResult] = useState(false);
            // ìƒíƒœ ê´€ë¦¬ - ê½ ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ ì—¬ë¶€
            const [showMissAnimation, setShowMissAnimation] = useState(false);
            // ìƒíƒœ ê´€ë¦¬ - ì¶•í¬ íš¨ê³¼ í‘œì‹œ ì—¬ë¶€
            const [showConfetti, setShowConfetti] = useState(false);
            // ìƒíƒœ ê´€ë¦¬ - ì¿ í° í™”ë©´ í‘œì‹œ ì—¬ë¶€
            const [showCoupon, setShowCoupon] = useState(false);
            // ìƒíƒœ ê´€ë¦¬ - ê½ƒë†€ì´ íš¨ê³¼ í‘œì‹œ ì—¬ë¶€
            const [showFlowers, setShowFlowers] = useState(false);

            // í™•ë¥  ì‹œìŠ¤í…œ - ê° ì¡°í•©ë³„ ë‹¹ì²¨ í™•ë¥ ê³¼ ë³´ìƒ ì •ì˜
            const prizes = [
                { combination: ['50', '50', '50'], reward: '50% í• ì¸', probability: 0.02 }, // 2% í™•ë¥ 
                { combination: ['30', '30', '30'], reward: '30% í• ì¸', probability: 0.10 }, // 10% í™•ë¥ 
                { combination: ['20', '20', '20'], reward: '20% í• ì¸', probability: 0.18 }, // 18% í™•ë¥ 
                { combination: ['10', '10', '10'], reward: '10% í• ì¸', probability: 0.20 }, // 20% í™•ë¥ 
                { combination: ['â˜•', 'â˜•', 'â˜•'], reward: 'ìŒë£Œìˆ˜', probability: 0.10 },     // 10% í™•ë¥ 
                { combination: ['ğŸ¥—', 'ğŸ¥—', 'ğŸ¥—'], reward: 'ìƒëŸ¬ë“œ', probability: 0.10 },   // 10% í™•ë¥ 
                { combination: ['ğŸ²', 'ğŸ²', 'ğŸ²'], reward: 'ìŠ¤í”„', probability: 0.10 },     // 10% í™•ë¥ 
                { combination: ['ì²œ', 'ì²œ', 'ì²œ'], reward: 'ì²œì›í• ì¸', probability: 0.10 }  // 10% í™•ë¥ 
            ];

            // ìŠ¬ë¡¯ë¨¸ì‹ ì— í‘œì‹œë  ëª¨ë“  ì‹¬ë³¼ ë°°ì—´
            const symbols = ['50', '30', '20', '10', 'â˜•', 'ğŸ¥—', 'ğŸ²', 'ì²œ'];

            // ëœë¤ ì‹¬ë³¼ ìƒì„± í•¨ìˆ˜ - ë°°ì—´ì—ì„œ ë¬´ì‘ìœ„ë¡œ í•˜ë‚˜ ì„ íƒ
            const getRandomSymbol = () => {
                return symbols[Math.floor(Math.random() * symbols.length)];
            };

            // ê²Œì„ ê²°ê³¼ ê²°ì • í•¨ìˆ˜ - í™•ë¥ ì— ë”°ë¼ ë‹¹ì²¨/ê½ ê²°ì •
            const determineResult = () => {
                const random = Math.random(); // 0~1 ì‚¬ì´ ëœë¤ ê°’ ìƒì„±
                let cumulativeProbability = 0; // ëˆ„ì  í™•ë¥  ê³„ì‚°ìš©

                // ê° ìƒí’ˆë³„ë¡œ í™•ë¥  ì²´í¬
                for (const prize of prizes) {
                    cumulativeProbability += prize.probability; // ëˆ„ì  í™•ë¥  ì¦ê°€
                    if (random <= cumulativeProbability) {      // ëœë¤ê°’ì´ ëˆ„ì í™•ë¥  ì´í•˜ë©´ ë‹¹ì²¨
                        return {
                            reels: prize.combination,  // ë‹¹ì²¨ ì¡°í•©
                            reward: prize.reward,      // ë³´ìƒ ë‚´ìš©
                            isWin: true                // ë‹¹ì²¨ ì—¬ë¶€
                        };
                    }
                }

                // ëª¨ë“  ìƒí’ˆì— í•´ë‹¹í•˜ì§€ ì•Šìœ¼ë©´ ê½ (ë‚˜ë¨¸ì§€ 10% í™•ë¥ )
                return {
                    reels: [getRandomSymbol(), getRandomSymbol(), getRandomSymbol()], // ëœë¤ ì¡°í•©
                    reward: 'ê½, ì•„ê¹ìŠµë‹ˆë‹¤!',  // ê½ ë©”ì‹œì§€
                    isWin: false               // ê½ í‘œì‹œ
                };
            };

            const spin = () => {
                if (isSpinning || showResult) return; // íšŒì „ ì¤‘ì´ê±°ë‚˜ ê²°ê³¼ í‘œì‹œ ì¤‘ì¼ ë•ŒëŠ” ì‹¤í–‰ ì•ˆ í•¨

                setIsSpinning(true);
                setShowResult(false);
                setResult(null);

                // 3ì´ˆ ê³ ì† íšŒì „
                const spinInterval = setInterval(() => {
                    setReels([getRandomSymbol(), getRandomSymbol(), getRandomSymbol()]);
                }, 100);

                setTimeout(() => {
                    clearInterval(spinInterval);
                    
                    // 2ì´ˆ ê°ì† í›„ ê²°ê³¼ ê²°ì •
                    const finalResult = determineResult();
                    setReels(finalResult.reels);
                    
                    setTimeout(() => {
                        setIsSpinning(false);
                        setResult(finalResult);
                        setShowResult(true);
                        
                        // ì‚¬ìš´ë“œ ì¬ìƒ
                        if (finalResult.isWin) {
                            // ë‹¹ì²¨ ì‹œ ddd.wav 5ì´ˆê°„ ì¬ìƒ + ì¶•í¬ + ê½ƒë†€ì´ íš¨ê³¼
                            const winAudio = new Audio('ddd.wav');
                            winAudio.play();
                            setShowConfetti(true);
                            setShowFlowers(true);
                            
                            setTimeout(() => {
                                winAudio.pause();
                                winAudio.currentTime = 0;
                                setShowConfetti(false);
                                setShowFlowers(false);
                            }, 5000);
                        } else {
                            // ê½ ì‹œ ggg.wav ì¬ìƒ + ì• ë‹ˆë©”ì´ì…˜
                            const missAudio = new Audio('ggg.wav');
                            missAudio.play();
                            setShowMissAnimation(true);
                            
                            // 4ì´ˆ í›„ ì• ë‹ˆë©”ì´ì…˜ ì œê±°
                            setTimeout(() => {
                                setShowMissAnimation(false);
                            }, 4000);
                        }
                    }, 2000);
                }, 3000);
            };

            // ì¿ í° ë°›ê¸° ë²„íŠ¼ í´ë¦­ í•¨ìˆ˜ - ì¿ í° í™”ë©´ í‘œì‹œ
            const receiveCoupon = () => {
                setShowCoupon(true); // ì¿ í° í™”ë©´ í‘œì‹œ ìƒíƒœë¡œ ë³€ê²½
            };

            // ì¿ í° ì €ì¥ í•¨ìˆ˜ - ì¿ í° ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì €ì¥
            const saveCoupon = () => {
                if (result && result.isWin) { // ë‹¹ì²¨ëœ ê²½ìš°ë§Œ ì €ì¥
                    // ì¿ í° ì •ë³´ ìƒì„±
                    const couponCode = `AKI${new Date().getFullYear()}${String(new Date().getMonth() + 1).padStart(2, '0')}${String(new Date().getDate()).padStart(2, '0')}${Math.random().toString(36).substr(2, 6).toUpperCase()}`;
                    const expiryDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);
                    const couponTitle = result.reward.includes('50%') ? '50% í• ì¸ ì¿ í°' : 
                                       result.reward.includes('30%') ? '30% í• ì¸ ì¿ í°' :
                                       result.reward.includes('20%') ? '20% í• ì¸ ì¿ í°' :
                                       result.reward.includes('10%') ? '10% í• ì¸ ì¿ í°' :
                                       result.reward === 'ìŒë£Œìˆ˜' ? 'ì˜¤ë¦¬ì§€ë„ ë¸”ë Œë”© ìŒë£Œìˆ˜' :
                                       result.reward === 'ìƒëŸ¬ë“œ' ? 'ì˜¤ë¦¬ì§€ë„ ë¸”ë Œë”© ìƒëŸ¬ë“œ' :
                                       result.reward === 'ìŠ¤í”„' ? 'ì˜¤ë¦¬ì§€ë„ ë¸”ë Œë”© ìŠ¤í”„' :
                                       result.reward === 'ì²œì›í• ì¸' ? 'ì²œì› í• ì¸ ì¿ í°' : `${result.reward} ì¿ í°`;

                    // Canvasë¥¼ ì‚¬ìš©í•´ì„œ ì¿ í° ì´ë¯¸ì§€ ìƒì„±
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì • (ì¿ í° í¬ê¸°)
                    canvas.width = 600;
                    canvas.height = 400;
                    
                    // ë°°ê²½ ê·¸ë¦¬ê¸° (í°ìƒ‰)
                    ctx.fillStyle = '#FFFFFF';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    // ì ì„  í…Œë‘ë¦¬ ê·¸ë¦¬ê¸°
                    ctx.strokeStyle = '#FF6B6B';
                    ctx.lineWidth = 4;
                    ctx.setLineDash([10, 5]);
                    ctx.strokeRect(10, 10, canvas.width - 20, canvas.height - 20);
                    
                    // í°íŠ¸ ì„¤ì •
                    ctx.fillStyle = '#333333';
                    ctx.textAlign = 'center';
                    ctx.font = 'bold 24px Arial, sans-serif';
                    
                    // í—¤ë” í…ìŠ¤íŠ¸
                    ctx.fillText('ğŸ í–‰ìš´ì˜ ë‹¹ì²¨ì¿ í°', canvas.width / 2, 60);
                    
                    // ë©”ì¸ ì œëª©
                    ctx.fillStyle = '#FF6B6B';
                    ctx.font = 'bold 32px Arial, sans-serif';
                    ctx.fillText(couponTitle, canvas.width / 2, 120);
                    
                    // ì¿ í° ì½”ë“œ ë°°ê²½
                    ctx.fillStyle = '#FF6B6B';
                    ctx.fillRect(50, 150, canvas.width - 100, 50);
                    
                    // ì¿ í° ì½”ë“œ í…ìŠ¤íŠ¸
                    ctx.fillStyle = '#FFFFFF';
                    ctx.font = 'bold 20px monospace';
                    ctx.fillText(couponCode, canvas.width / 2, 180);
                    
                    // ìœ íš¨ê¸°ê°„
                    ctx.fillStyle = '#666666';
                    ctx.font = '16px Arial, sans-serif';
                    ctx.fillText(`ìœ íš¨ê¸°ê°„: ${expiryDate.getFullYear()}. ${expiryDate.getMonth() + 1}. ${expiryDate.getDate()}.ê¹Œì§€`, canvas.width / 2, 240);
                    ctx.fillText('ì‚¬ìš©ë²•: ë§¤ì¥ ë°©ë¬¸ì‹œ ì´ ì½”ë“œë¥¼ ì œì‹œí•´ì£¼ì„¸ìš”', canvas.width / 2, 270);
                    
                    // í‘¸í„°
                    ctx.fillStyle = '#999999';
                    ctx.font = '14px Arial, sans-serif';
                    ctx.fillText('í–‰ìš´ì˜ ë‹¹ì²¨ì¿ í°ìœ¼ë¡œ ë” ì¢‹ì€ ê²½í—˜ì„ ì„ ì‚¬í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.', canvas.width / 2, 340);
                    
                    // ì¥ì‹ ì´ëª¨ì§€
                    ctx.font = '30px Arial, sans-serif';
                    ctx.fillText('ğŸ‰', 80, 200);
                    ctx.fillText('ğŸ‰', canvas.width - 80, 200);
                    
                    // ìº”ë²„ìŠ¤ë¥¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•˜ì—¬ ë‹¤ìš´ë¡œë“œ
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = `í–‰ìš´ì˜ë‹¹ì²¨ì¿ í°_${couponCode}.png`;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        URL.revokeObjectURL(url);
                        
                        // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ë„ ì €ì¥
                        const coupon = {
                            reward: result.reward,
                            date: new Date().toLocaleDateString(),
                            expiry: expiryDate.toLocaleDateString(),
                            code: couponCode
                        };
                        
                        const savedCoupons = JSON.parse(localStorage.getItem('coupons') || '[]');
                        savedCoupons.push(coupon);
                        localStorage.setItem('coupons', JSON.stringify(savedCoupons));
                        
                        alert('ì¿ í°ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
                    }, 'image/png');
                }
            };

            // í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸° í•¨ìˆ˜ - ëª¨ë“  ìƒíƒœ ì´ˆê¸°í™”
            const goHome = () => {
                setResult(null);           // ê²°ê³¼ ì´ˆê¸°í™”
                setShowResult(false);      // ê²°ê³¼ í™”ë©´ ìˆ¨ê¹€
                setReels(['50', '30', '20']); // ë¦´ ì´ˆê¸°ê°’ìœ¼ë¡œ ë³µì›
                setShowMissAnimation(false); // ê½ ì• ë‹ˆë©”ì´ì…˜ ìˆ¨ê¹€
                setShowConfetti(false);    // ì¶•í¬ íš¨ê³¼ ìˆ¨ê¹€
                setShowFlowers(false);     // ê½ƒë†€ì´ íš¨ê³¼ ìˆ¨ê¹€
                setShowCoupon(false);      // ì¿ í° í™”ë©´ ìˆ¨ê¹€
            };

            // JSX ë°˜í™˜ - ì‹¤ì œ í™”ë©´ì— ë Œë”ë§ë  HTML êµ¬ì¡°
            return (
                <div className="game-container"> {/* ë©”ì¸ ê²Œì„ ì»¨í…Œì´ë„ˆ */}
                    <div className="header"> {/* í—¤ë” ì˜ì—­ */}
                        <div className="title">ğŸ’ í–‰ìš´ì˜ ì¿ í° ê²Œì„ ğŸ’</div> {/* ë©”ì¸ ì œëª© */}
                        <div className="subtitle">ì£¼ë¬¸í•˜ì‹  ë™ì•ˆ í–‰ìš´ì„ ëŒë ¤ë³´ì„¸ìš”!</div> {/* ë¶€ì œëª© */}
                    </div>

                    <div className={`slot-machine-container ${showResult && result && result.isWin ? 'spotlight' : ''}`}>
                        <div className="slot-machine">
                            <div className="jackpot-header">
                                <div className="jackpot-text">ğŸ° JACKPOT ğŸ°</div>
                            </div>

                            <div className={`reels-container ${showResult && result && result.isWin ? 'winning' : ''}`}>
                                {reels.map((symbol, index) => (
                                    <div 
                                        key={index} 
                                        className={`reel ${isSpinning ? 'spinning' : ''} ${showResult && result && result.isWin ? 'winning' : ''}`}
                                    >
                                        <div className="reel-content">{symbol}</div>
                                    </div>
                                ))}
                            </div>

                            <button 
                                className="spin-button" 
                                onClick={spin} 
                                disabled={isSpinning || showResult}
                            >
                                {isSpinning ? 'íšŒì „ ì¤‘...' : (showResult ? 'ê²°ê³¼ë³´ê¸°' : 'ì‹œì‘í•˜ê¸°')}
                            </button>

                            {/* ë‹¹ì²¨ ë©”ì‹œì§€ í‘œì‹œ ì˜ì—­ */}
                            {showResult && result && result.isWin && (
                                <div style={{
                                    textAlign: 'center',
                                    marginTop: '8px',
                                    fontSize: '1.3em',
                                    fontWeight: '900',
                                    color: '#FFFFFF',
                                    fontFamily: 'Noto Sans KR, sans-serif',
                                    textShadow: '2px 2px 4px rgba(0,0,0,0.7)',
                                    background: (() => {
                                        // ë‹¹ì²¨ ì¢…ë¥˜ë³„ ë°°ê²½ìƒ‰ ì„¤ì •
                                        if (result.reward.includes('50%')) return 'linear-gradient(45deg, #FF6B35, #FF8C42)'; // ë¹¨ê°„ ì˜¤ë Œì§€
                                        if (result.reward.includes('30%')) return 'linear-gradient(45deg, #4ECDC4, #44A08D)'; // ì²­ë¡ìƒ‰
                                        if (result.reward.includes('20%')) return 'linear-gradient(45deg, #A8E6CF, #7FCDCD)'; // ì—°ë‘ìƒ‰
                                        if (result.reward.includes('10%')) return 'linear-gradient(45deg, #FFD93D, #6BCF7F)'; // ë…¸ë€-ì´ˆë¡
                                        if (result.reward.includes('ìŒë£Œìˆ˜')) return 'linear-gradient(45deg, #8B4513, #D2691E)'; // ê°ˆìƒ‰ (ì»¤í”¼)
                                        if (result.reward.includes('ìƒëŸ¬ë“œ')) return 'linear-gradient(45deg, #32CD32, #228B22)'; // ì§„í•œ ì´ˆë¡ìƒ‰
                                        if (result.reward.includes('ìŠ¤í”„')) return 'linear-gradient(45deg, #FF4500, #FF6347)'; // í† ë§ˆí† ìƒ‰
                                        if (result.reward.includes('ì²œì›í• ì¸')) return 'linear-gradient(45deg, #9370DB, #8A2BE2)'; // ë³´ë¼ìƒ‰
                                        return 'linear-gradient(45deg, #FFD700, #FFA500)'; // ê¸°ë³¸ ê³¨ë“œ
                                    })(),
                                    padding: '6px 12px',
                                    borderRadius: '10px',
                                    border: '2px solid #FFFFFF',
                                    boxShadow: '0 3px 10px rgba(0,0,0,0.4)',
                                    animation: 'winMessagePulse 1s ease-in-out infinite alternate'
                                }}>
                                    ğŸŠ {result.reward} ë‹¹ì²¨ ğŸŠ
                                </div>
                            )}
                        </div>
                    </div>

                     <div className="result">
                         {showResult && result ? (
                             <>
                                 {result.isWin && !showCoupon ? (
                                     <>
                                         <div className={`result-message ${result.isWin ? 'win-message' : ''}`}>
                                             ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰
                                         </div>
                                         <div className="buttons">
                                             <button className="button save-btn" onClick={receiveCoupon}>
                                                 ì¿ í° ë°›ê¸°
                                             </button>
                                             <button className="button home-btn" onClick={goHome}>
                                                 ë‹¤ì‹œ ë„ì „
                                             </button>
                                         </div>
                                     </>
                                 ) : result.isWin && showCoupon ? (
                                     <>
                                         <div className="coupon">
                                             <div className="coupon-header">ğŸ í–‰ìš´ì˜ ë‹¹ì²¨ì¿ í°</div>
                                             <div className="coupon-main-title">
                                                 {result.reward.includes('50%') ? '50% í• ì¸ ì¿ í°' : 
                                                  result.reward.includes('30%') ? '30% í• ì¸ ì¿ í°' :
                                                  result.reward.includes('20%') ? '20% í• ì¸ ì¿ í°' :
                                                  result.reward.includes('10%') ? '10% í• ì¸ ì¿ í°' :
                                                  result.reward === 'ìŒë£Œìˆ˜' ? 'ì˜¤ë¦¬ì§€ë„ ë¸”ë Œë”© ìŒë£Œìˆ˜' :
                                                  result.reward === 'ìƒëŸ¬ë“œ' ? 'ì˜¤ë¦¬ì§€ë„ ë¸”ë Œë”© ìƒëŸ¬ë“œ' :
                                                  result.reward === 'ìŠ¤í”„' ? 'ì˜¤ë¦¬ì§€ë„ ë¸”ë Œë”© ìŠ¤í”„' :
                                                  result.reward === 'ì²œì›í• ì¸' ? 'ì²œì› í• ì¸ ì¿ í°' : `${result.reward} ì¿ í°`}
                                             </div>
                                             <div className="coupon-code-section">
                                                 AKI{new Date().getFullYear()}{String(new Date().getMonth() + 1).padStart(2, '0')}{String(new Date().getDate()).padStart(2, '0')}{Math.random().toString(36).substr(2, 6).toUpperCase()}
                                             </div>
                                             <div className="coupon-validity">
                                                 ìœ íš¨ê¸°ê°„: {new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).getFullYear()}. {new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).getMonth() + 1}. {new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).getDate()}.ê¹Œì§€<br/>
                                                 ì‚¬ìš©ë²•: ë§¤ì¥ ë°©ë¬¸ì‹œ ì´ ì½”ë“œë¥¼ ì œì‹œí•´ì£¼ì„¸ìš”
                                             </div>
                                             <div className="coupon-footer">
                                                 í–‰ìš´ì˜ ë‹¹ì²¨ì¿ í°ìœ¼ë¡œ ë” ì¢‹ì€ ê²½í—˜ì„ ì„ ì‚¬í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
                                             </div>
                                         </div>
                                         <div className="buttons">
                                             <button className="button save-btn" onClick={saveCoupon}>
                                                 ì¿ í°ì €ì¥
                                             </button>
                                             <button className="button home-btn" onClick={goHome}>
                                                 ë‹¤ì‹œë„ì „
                                             </button>
                                         </div>
                                     </>
                                 ) : !result.isWin ? (
                                     <>
                                         <div className="miss-message">{result.reward}</div>
                                         <div className="buttons">
                                             <button className="button home-btn" onClick={goHome}>
                                                 ë‹¤ì‹œ ë„ì „
                                             </button>
                                         </div>
                                     </>
                                 ) : null}
                             </>
                         ) : (
                             <div className="game-info">
                                 <div className="game-info-title">ğŸ¯ ê²Œì„ ì•ˆë‚´</div>
                                 <div className="game-info-list">
                                     <div>â€¢ ìˆ«ìëŠ” í• ì¸ìœ¨ % ì…ë‹ˆë‹¤</div>
                                     <div>â€¢ 1ë“± 50% í• ì¸ ~ 10% í• ì¸ê¹Œì§€</div>
                                     <div>â€¢ ìŒë£Œìˆ˜, ìƒëŸ¬ë“œ, ìŠ¤í”„, ì²œì›í• ì¸ê¹Œì§€</div>
                                 </div>
                             </div>
                         )}
                     </div>

                     {/* ê½ ì• ë‹ˆë©”ì´ì…˜ */}
                     {showMissAnimation && (
                         <div className="miss-animation">
                             <img src="ggg.png" alt="ê½" />
                         </div>
                     )}

                     {/* ì¶•í¬ íš¨ê³¼ */}
                     {showConfetti && (
                         <>
                             {[...Array(100)].map((_, i) => (
                                 <div
                                     key={i}
                                     className="confetti"
                                     style={{
                                         left: Math.random() * 100 + '%',
                                         animationDelay: Math.random() * 5 + 's',
                                         animationDuration: (Math.random() * 3 + 3) + 's'
                                     }}
                                 />
                             ))}
                         </>
                     )}

                     {/* ê½ƒë†€ì´ íš¨ê³¼ */}
                     {showFlowers && (
                         <>
                             {[...Array(60)].map((_, i) => (
                                 <div
                                     key={i}
                                     className="flower"
                                     style={{
                                         left: Math.random() * 100 + '%',
                                         animationDelay: Math.random() * 5 + 's',
                                         animationDuration: (Math.random() * 3 + 4) + 's'
                                     }}
                                 >
                                     {['ğŸŒ¸', 'ğŸŒº', 'ğŸŒ»', 'ğŸŒ·', 'ğŸŒ¹', 'ğŸ’'][Math.floor(Math.random() * 6)]}
                                 </div>
                             ))}
                         </>
                     )}
                </div>
            );
        }

        // React ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤ì œ DOMì— ë Œë”ë§
        // SlotMachine ì»´í¬ë„ŒíŠ¸ë¥¼ idê°€ 'root'ì¸ ìš”ì†Œì— ë§ˆìš´íŠ¸
        ReactDOM.render(<SlotMachine />, document.getElementById('root'));
    </script>
</body>
</html> 